(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{452:function(s,a,t){"use strict";t.r(a);var e=t(54),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"shell"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#shell"}},[s._v("#")]),s._v(" shell")]),s._v(" "),t("h2",{attrs:{id:"_1-shell-基础"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-shell-基础"}},[s._v("#")]),s._v(" 1. shell 基础")]),s._v(" "),t("ul",[t("li",[s._v("shell 是一个命令行解释器，它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统级程序")]),s._v(" "),t("li",[s._v("用户可以用 Shell 来启动、挂起、停止或者编写一些程序")]),s._v(" "),t("li",[s._v("Shell 还是一个功能相当强大的编程语言，易编写，易调试，灵活性较强。")]),s._v(" "),t("li",[s._v("Shell 是解释执行的脚本语言，在 Shell 中可以直接调用 Linux 系统命令。")])]),s._v(" "),t("h3",{attrs:{id:"_1-1-echo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-echo"}},[s._v("#")]),s._v(" 1.1 echo")]),s._v(" "),t("ul",[t("li",[s._v("输出命令")]),s._v(" "),t("li",[s._v("-e：激活转义字符")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" hello\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v('b"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_1-2-编写执行-shell"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-编写执行-shell"}},[s._v("#")]),s._v(" 1.2 编写执行 shell")]),s._v(" "),t("p",[s._v("hello.sh")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" hello\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//通过 Bash 调用执行脚本")]),s._v("\nsh hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//赋予执行权限，直接运行")]),s._v("\nchmod "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("755")]),s._v(" hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh\nchmod u"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("x hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("hello"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"_1-3-别名"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-别名"}},[s._v("#")]),s._v(" 1.3 别名")]),s._v(" "),t("ul",[t("li",[s._v("命令别名就是小名")]),s._v(" "),t("li",[s._v("临时生效 "),t("code",[s._v('alias cp="cp -i"')])]),s._v(" "),t("li",[s._v("写入环境变量配置文件 "),t("code",[s._v("vi ~/.bashrc")])]),s._v(" "),t("li",[s._v("source ~/.bashrc")]),s._v(" "),t("li",[s._v("删除别名 "),t("code",[s._v("unalias 别名")])])]),s._v(" "),t("h3",{attrs:{id:"_1-4-命令的生效顺序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-命令的生效顺序"}},[s._v("#")]),s._v(" 1.4 命令的生效顺序")]),s._v(" "),t("ul",[t("li",[s._v("绝对路径或者相对路径")]),s._v(" "),t("li",[s._v("别名")]),s._v(" "),t("li",[s._v("bash 内部命令")]),s._v(" "),t("li",[s._v("按照 "),t("code",[s._v("$PATH")]),s._v(" 环境变量定义的目录查找顺序找到的第一个命令")])]),s._v(" "),t("h3",{attrs:{id:"_1-5-命令快捷键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-命令快捷键"}},[s._v("#")]),s._v(" 1.5 命令快捷键")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("命令")]),s._v(" "),t("th",[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("ctrl+c")]),s._v(" "),t("td",[s._v("强制终止当前命令")])]),s._v(" "),t("tr",[t("td",[s._v("ctrl+l")]),s._v(" "),t("td",[s._v("清屏")])]),s._v(" "),t("tr",[t("td",[s._v("ctrl+a")]),s._v(" "),t("td",[s._v("光标移动到命令行首")])]),s._v(" "),t("tr",[t("td",[s._v("ctrl+e")]),s._v(" "),t("td",[s._v("光标移动到命令行尾")])]),s._v(" "),t("tr",[t("td",[s._v("ctrl+u")]),s._v(" "),t("td",[s._v("从光标所在的位置删除到行首")])])])]),s._v(" "),t("h3",{attrs:{id:"_1-6-历史命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-历史命令"}},[s._v("#")]),s._v(" 1.6 历史命令")]),s._v(" "),t("ul",[t("li",[s._v("history [选项] [历史命令保存文件]")]),s._v(" "),t("li",[s._v("选项\n"),t("ul",[t("li",[s._v("-c 清空历史命令")]),s._v(" "),t("li",[s._v("-w 把缓存中的历史命令写入历史命令保存文件 ~/.bash_history")])])]),s._v(" "),t("li",[s._v("默认保存 1000 条 /etc/profile "),t("code",[s._v("HISSIZE=10000")])])]),s._v(" "),t("h3",{attrs:{id:"_1-7-调用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-调用"}},[s._v("#")]),s._v(" 1.7 调用")]),s._v(" "),t("ul",[t("li",[s._v("使用上下箭头调用以前的历史命令")]),s._v(" "),t("li",[s._v("使用 "),t("code",[s._v("!n")]),s._v(" 重复执行第 n 条历史命令")]),s._v(" "),t("li",[s._v("使用 "),t("code",[s._v("!!")]),s._v(" 重复执行上一条命令")]),s._v(" "),t("li",[s._v("使用 "),t("code",[s._v("!字符")]),s._v(" 重复执行最后一条以该字符串开头的命令")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" -c\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("echo\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h3",{attrs:{id:"_1-8-输出重定向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-输出重定向"}},[s._v("#")]),s._v(" 1.8 输出重定向")]),s._v(" "),t("h3",{attrs:{id:"_1-8-1-标准输入输出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-1-标准输入输出"}},[s._v("#")]),s._v(" 1.8.1 标准输入输出")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("设备")]),s._v(" "),t("th",[s._v("设备文件名")]),s._v(" "),t("th",[s._v("文件描述符")]),s._v(" "),t("th",[s._v("类型")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("键盘")]),s._v(" "),t("td",[s._v("/dev/stdin")]),s._v(" "),t("td",[s._v("0")]),s._v(" "),t("td",[s._v("标准输入")])]),s._v(" "),t("tr",[t("td",[s._v("显示器")]),s._v(" "),t("td",[s._v("/dev/stdout")]),s._v(" "),t("td",[s._v("1")]),s._v(" "),t("td",[s._v("标准输出")])]),s._v(" "),t("tr",[t("td",[s._v("显示器")]),s._v(" "),t("td",[s._v("/dev/stderr")]),s._v(" "),t("td",[s._v("2")]),s._v(" "),t("td",[s._v("标准错误输出")])])])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("符号")]),s._v(" "),t("th",[s._v("作用")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("标准输出重定向")]),s._v(" "),t("td",[s._v("命令 > 文件")]),s._v(" "),t("td",[s._v("以覆盖的方式，把命令的正确输出输出到指定的文件或设备当中")])]),s._v(" "),t("tr",[t("td",[s._v("标准输出重定向")]),s._v(" "),t("td",[s._v("命令 >> 文件")]),s._v(" "),t("td",[s._v("以追加的方式，把命令的正确输出输出到指定的文件或设备当中")])]),s._v(" "),t("tr",[t("td",[s._v("错误输出重定向")]),s._v(" "),t("td",[s._v("命令>文件")]),s._v(" "),t("td",[s._v("以覆盖的方式，把命令的错误输出输出到指定的文件或设备当中")])]),s._v(" "),t("tr",[t("td",[s._v("错误输出重定向")]),s._v(" "),t("td",[s._v("命令>>文件")]),s._v(" "),t("td",[s._v("以追加的方式，把命令的错误输出输出到指定的文件或设备当中")])]),s._v(" "),t("tr",[t("td",[s._v("正确输出和错误输出同时保存")]),s._v(" "),t("td",[s._v("命令>文件 2>&1")]),s._v(" "),t("td",[s._v("以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中")])]),s._v(" "),t("tr",[t("td",[s._v("正确输出和错误输出同时保存")]),s._v(" "),t("td",[s._v("命令>文件 2>>&1")]),s._v(" "),t("td",[s._v("以追加的方式，把正确输出和错误输出都保存到同一个文件当中")])]),s._v(" "),t("tr",[t("td",[s._v("正确输出和错误输出同时保存")]),s._v(" "),t("td",[s._v("命令&>文件")]),s._v(" "),t("td",[s._v("以覆盖的方式，把正确输出和错误输出都保存到同一个文件当中")])]),s._v(" "),t("tr",[t("td",[s._v("正确输出和错误输出同时保存")]),s._v(" "),t("td",[s._v("命令&>>文件")]),s._v(" "),t("td",[s._v("以追加的方式，把正确输出和错误输出都保存到同一个文件当中")])]),s._v(" "),t("tr",[t("td",[s._v("正确输出和错误输出同时保存")]),s._v(" "),t("td",[s._v("命令>>文件 1 2>文件 2")]),s._v(" "),t("td",[s._v("以覆盖的方式，正确的输出追加到文件 1 中，把错误输出追加到文件 2 中")])])])]),s._v(" "),t("h3",{attrs:{id:"_1-8-2-输入重定向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-2-输入重定向"}},[s._v("#")]),s._v(" 1.8.2 输入重定向")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("wc")]),s._v(" 命令的功能为统计指定文件中的行数、字数、字节数, 并将统计结果显示输出")]),s._v(" "),t("li",[s._v("命令 "),t("code",[s._v("<")]),s._v(" 文件把文件做为命令的输入")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" a.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_1-9-管道符号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-管道符号"}},[s._v("#")]),s._v(" 1.9 管道符号")]),s._v(" "),t("h4",{attrs:{id:"_1-9-1-多命令顺序执行"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-1-多命令顺序执行"}},[s._v("#")]),s._v(" 1.9.1 多命令顺序执行")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("多命令执行符")]),s._v(" "),t("th",[s._v("格式")]),s._v(" "),t("th",[s._v("作用")]),s._v(" "),t("th",[s._v("案例")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v(";")]),s._v(" "),t("td",[s._v("命令 1;命令 2")]),s._v(" "),t("td",[s._v("多个命令执行，命令之间没有任何逻辑联系")]),s._v(" "),t("td",[s._v("echo 1;echo 2;")])]),s._v(" "),t("tr",[t("td",[s._v("&&")]),s._v(" "),t("td",[s._v("命令 1&&命令 2")]),s._v(" "),t("td",[s._v("逻辑与 当命令 1 正确执行，则命令 2 才会执行 当命令 1 执行不正确，则命令 2 不会执行")]),s._v(" "),t("td",[s._v("echo 1&&echo 2;")])]),s._v(" "),t("tr",[t("td",[s._v("\\")]),s._v(" "),t("td",[s._v("命令 1\\ 命令 2")]),s._v(" "),t("td",[s._v("逻辑或 当命令 1 执行不正确，则命令 2 才会执行 当命令 1 正确执行，则命令 2 不会执行")]),s._v(" "),t("td",[s._v("echo 1\\echo 2;")])])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_1-9-2-管道符号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-2-管道符号"}},[s._v("#")]),s._v(" 1.9.2 管道符号")]),s._v(" "),t("ul",[t("li",[s._v("命令 1 的正确输出会作为命令 2 的操作对象")]),s._v(" "),t("li",[s._v("命令 1|命令 2")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /etc/ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("more")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -an "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" ESTABLISHED "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wc")]),s._v(" -l\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_1-9-3-通配符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-3-通配符"}},[s._v("#")]),s._v(" 1.9.3 通配符")]),s._v(" "),t("ul",[t("li",[s._v("匹配文件名和目录名\n"),t("table",[t("thead",[t("tr",[t("th",[s._v("通配符")]),s._v(" "),t("th",[s._v("作用")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("?")]),s._v(" "),t("td",[s._v("匹配一个任意字符")])]),s._v(" "),t("tr",[t("td",[s._v("-")]),s._v(" "),t("td",[s._v("匹配 0 个或任意字符，也就是可以匹配任意内容")])]),s._v(" "),t("tr",[t("td",[s._v("[]")]),s._v(" "),t("td",[s._v("匹配中括号中任意一个字符")])]),s._v(" "),t("tr",[t("td",[s._v("[-]")]),s._v(" "),t("td",[s._v("匹配中括号中任意一个字符,-代表范围")])]),s._v(" "),t("tr",[t("td",[s._v("[^]")]),s._v(" "),t("td",[s._v("匹配不是中括号中的一个字符")])])])])])]),s._v(" "),t("h3",{attrs:{id:"_1-9-4-其它符号"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-4-其它符号"}},[s._v("#")]),s._v(" 1.9.4 其它符号")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("符号")]),s._v(" "),t("th",[s._v("作用")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("''")]),s._v(" "),t("td",[s._v("单引号。在单引号中所有的特殊符号，如$和`都没有特殊含义")])]),s._v(" "),t("tr",[t("td",[s._v('""')]),s._v(" "),t("td",[s._v("双引号，在双引号里特殊符号都没有特殊含义，但是 $ ` \\ 例外，拥有调用变量值，引用命令和转义的含义")])]),s._v(" "),t("tr",[t("td"),s._v(" "),t("td",[s._v("反引号，扩起来的是系统命令")])]),s._v(" "),t("tr",[t("td",[s._v("$()")]),s._v(" "),t("td",[s._v("和反引号一样")])]),s._v(" "),t("tr",[t("td",[s._v("#")]),s._v(" "),t("td",[s._v("在 shell 脚本中，#开头的行代表注释")])]),s._v(" "),t("tr",[t("td",[s._v("$")]),s._v(" "),t("td",[s._v("用于调用变量的值")])]),s._v(" "),t("tr",[t("td",[s._v("\\")]),s._v(" "),t("td",[s._v("转义符号")])])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'$PATH'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"a'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v('b"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"_2-变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-变量"}},[s._v("#")]),s._v(" 2. 变量")]),s._v(" "),t("h3",{attrs:{id:"_2-1-什么是变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-什么是变量"}},[s._v("#")]),s._v(" 2.1 什么是变量")]),s._v(" "),t("ul",[t("li",[s._v("可以变化的量")]),s._v(" "),t("li",[s._v("变量必须以字母或下划线开头，名字中间只能由字母，数字和下划线组成")]),s._v(" "),t("li",[s._v("变量名的长度不得超过 255 个字符")]),s._v(" "),t("li",[s._v("变量名在有效范围内必须唯一")]),s._v(" "),t("li",[s._v("变量默认类型都是字符串")])]),s._v(" "),t("h3",{attrs:{id:"_2-2-变量的分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-变量的分类"}},[s._v("#")]),s._v(" 2.2 变量的分类")]),s._v(" "),t("ul",[t("li",[s._v("字符串")]),s._v(" "),t("li",[s._v("整型")]),s._v(" "),t("li",[s._v("浮点型")]),s._v(" "),t("li",[s._v("日期型")])]),s._v(" "),t("h3",{attrs:{id:"_2-3-用户自定义变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-用户自定义变量"}},[s._v("#")]),s._v(" 2.3 用户自定义变量")]),s._v(" "),t("ul",[t("li",[s._v("这些变量的值是自己定义的")]),s._v(" "),t("li",[s._v("变量名不能为数字开头")]),s._v(" "),t("li",[s._v("等号左右两边不能有空格")])]),s._v(" "),t("h3",{attrs:{id:"_2-3-1-定义变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-定义变量"}},[s._v("#")]),s._v(" 2.3.1 定义变量")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zhufeng"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("age")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-3-2-输出变量值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-输出变量值"}},[s._v("#")]),s._v(" 2.3.2 输出变量值")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" $变量名\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-3-3-值默认都是字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-值默认都是字符串"}},[s._v("#")]),s._v(" 2.3.3 值默认都是字符串")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("x")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("y")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("z")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("k")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$x")]),s._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$y")]),s._v("+"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$z")]),s._v("\n$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$k")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("+2+3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"_2-3-4-在赋值的时候引用变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-4-在赋值的时候引用变量"}},[s._v("#")]),s._v(" 2.3.4 在赋值的时候引用变量")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("m")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$x")]),s._v('"')]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("n")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("${x}")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$n")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_2-3-5-set"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-5-set"}},[s._v("#")]),s._v(" 2.3.5 set")]),s._v(" "),t("p",[s._v("查询系统中默认所有已经生效的变量，包括系统变量,也包括自定义变量")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" zhufeng\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-3-6-unset"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-6-unset"}},[s._v("#")]),s._v(" 2.3.6 unset")]),s._v(" "),t("p",[s._v("删除变量")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("unset")]),s._v(" a\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-4-环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-环境变量"}},[s._v("#")]),s._v(" 2.4 环境变量")]),s._v(" "),t("ul",[t("li",[s._v("环境变量是全局变量，而自定义变量是局部变量")]),s._v(" "),t("li",[s._v("自定义变量会在当前的 shell 中生效，而环境变量会在当前 shell 以及其子 shell 中生效")]),s._v(" "),t("li",[s._v("这种变量主要保存的是和系统操作环境相关的数据")]),s._v(" "),t("li",[s._v("变量可以自定义，但是对系统生效的环境变量名和变量作用是固定的")])]),s._v(" "),t("h3",{attrs:{id:"_2-4-1-自定义环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-自定义环境变量"}},[s._v("#")]),s._v(" 2.4.1 自定义环境变量")]),s._v(" "),t("p",[s._v("export 变量名=变量值")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("envName")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("prod\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-4-2-env"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-env"}},[s._v("#")]),s._v(" 2.4.2 env")]),s._v(" "),t("p",[s._v("仅仅用来查看环境变量，而不看到本地变量")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" envName\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-4-3-常用环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-3-常用环境变量"}},[s._v("#")]),s._v(" 2.4.3 常用环境变量")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("变量名")]),s._v(" "),t("th",[s._v("含义")]),s._v(" "),t("th",[s._v("示例")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("HOSTNAME")]),s._v(" "),t("td",[s._v("主机名")]),s._v(" "),t("td",[s._v("HOSTNAME=localhost")])]),s._v(" "),t("tr",[t("td",[s._v("SHELL")]),s._v(" "),t("td",[s._v("当前的")]),s._v(" "),t("td",[s._v("shell SHELL=/bin/bash")])]),s._v(" "),t("tr",[t("td",[s._v("HISTSIZE")]),s._v(" "),t("td",[s._v("历史命令条数")]),s._v(" "),t("td",[s._v("HISTSIZE=1000")])]),s._v(" "),t("tr",[t("td",[s._v("SSH_CLIENT")]),s._v(" "),t("td",[s._v("当前操作环境如果是用 SSH 连接的话，这里会记录客户端 IP")]),s._v(" "),t("td",[s._v("SSH_CLIENT=192.168.1.100 57596 22")])]),s._v(" "),t("tr",[t("td",[s._v("USER")]),s._v(" "),t("td",[s._v("当前登录的用户")]),s._v(" "),t("td",[s._v("USER=root")])])])]),s._v(" "),t("p",[s._v("echo $HOSTNAME\necho $SHELL\necho $HISTSIZE\necho $SSH_CLIENT\necho $USER")]),s._v(" "),t("h3",{attrs:{id:"_2-4-4-path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-4-path"}},[s._v("#")]),s._v(" 2.4.4 path")]),s._v(" "),t("p",[s._v("系统搜索路径")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# echo $PATH")]),s._v("\n/usr/lib/qt-3.3/bin:/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("如果想把一个自定义的脚本直接可以执行，或者把这个文件拷贝到目标目录下，或者把脚本所在目录添加到环境变量中的 PATH 路径中")]),s._v(" "),t("p",[s._v("/root/shells/hello.sh")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" hello\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v('"')]),s._v(":/root/shells\nhello.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-4-5-语系环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-5-语系环境变量"}},[s._v("#")]),s._v(" 2.4.5 语系环境变量")]),s._v(" "),t("ul",[t("li",[s._v("查询当前系统语系")]),s._v(" "),t("li",[s._v("在 Linux 中通过 "),t("code",[s._v("locale")]),s._v(" 来设置程序运行的不同语言环境，locale 由 ANSI C 提供支持。locale 的命名规则为<语言>_<地区>.<字符集编码>，如 zh_CN.UTF-8，zh 代表中文，CN 代表大陆地区，UTF-8 表示字符集。")]),s._v(" "),t("li",[s._v("LANG: 定义系统主语系的变量")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("locale\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LANG")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("zh_CN.UTF-8\n\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$LANG")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"_2-4-6-中文支持"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-6-中文支持"}},[s._v("#")]),s._v(" 2.4.6 中文支持")]),s._v(" "),t("ul",[t("li",[s._v("图形界面可以支持中文")]),s._v(" "),t("li",[s._v("第三方工具比如 xshell 语系设置正确可以支持中文")]),s._v(" "),t("li",[s._v("虚拟机中的纯字符界面不支持中文")])]),s._v(" "),t("h3",{attrs:{id:"_2-5-位置参数变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-位置参数变量"}},[s._v("#")]),s._v(" 2.5 位置参数变量")]),s._v(" "),t("p",[s._v("这种变量主要是用来向脚本当中传递参数或数据的,变量名不能自定义,变量作用是固定的")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("位置参数变量")]),s._v(" "),t("th",[s._v("作用")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("$n")]),s._v(" "),t("td",[s._v("n 为数字，$0代表命令本身，$1-$9代表第1到第9个参数，10以上的参数需要用大括号包含,如${10}")])]),s._v(" "),t("tr",[t("td",[s._v("$*")]),s._v(" "),t("td",[s._v("这个变量代表命令中所有的参数，$*把所有的变看数看成一个整体")])]),s._v(" "),t("tr",[t("td",[s._v("$@")]),s._v(" "),t("td",[s._v("这个变量也代表命令行中所有的参数，不过$@把每个参数进行区分")])]),s._v(" "),t("tr",[t("td",[s._v("$#")]),s._v(" "),t("td",[s._v("这个变量代表命令行中所有参数的个数")])])])]),s._v(" "),t("p",[s._v("sum.sh")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("num1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("num2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("num1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("num2"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$sum")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" sum.sh "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("vi for.sh")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"i='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v('"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" for.sh "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("i")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("i")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("i")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" for2.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v('"')]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"i='),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v('"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" for2.sh "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("i")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" for3.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v('"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" for3.sh "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-6-预定义变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-预定义变量"}},[s._v("#")]),s._v(" 2.6 预定义变量")]),s._v(" "),t("ul",[t("li",[s._v("是脚本中已经定义好的变量，变量名不能自定义，变量作用也是固定的")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("位置参数变量")]),s._v(" "),t("th",[s._v("作用")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("$?")]),s._v(" "),t("td",[s._v("最后一次执行的命令的返回状态。0 表示正确执行，非 0 表示不正确执行")])]),s._v(" "),t("tr",[t("td",[s._v("$$")]),s._v(" "),t("td",[s._v("当前进程的进程号(PID)")])])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$$")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_2-7-read"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-read"}},[s._v("#")]),s._v(" 2.7 read")]),s._v(" "),t("p",[s._v("read [选项] [变量名]")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("选项")]),s._v(" "),t("th",[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("-p")]),s._v(" "),t("td",[s._v("提示信息，在等待 read 输入时，输出提示信息")])]),s._v(" "),t("tr",[t("td",[s._v("-t")]),s._v(" "),t("td",[s._v("秒数: read 命令会一直等待用户输入，使用此选项可以指定等待时间")])]),s._v(" "),t("tr",[t("td",[s._v("-n")]),s._v(" "),t("td",[s._v("字符数，read 命令只接受指定的字符数，就会执行")])]),s._v(" "),t("tr",[t("td",[s._v("-s")]),s._v(" "),t("td",[s._v("隐藏输入的数据，适用于机密信息的输入")])])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'please input your name:'")]),s._v(" -t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" name\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'please input you gender[m/f]:'")]),s._v(" -n "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" gender\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'please input your password:'")]),s._v(" -s password\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$name")]),s._v(","),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$gender")]),s._v(","),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$password")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" read.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_3-运算符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-运算符"}},[s._v("#")]),s._v(" 3. 运算符")]),s._v(" "),t("p",[s._v("弱类型并且默认是字符串类型")]),s._v(" "),t("h3",{attrs:{id:"_3-1-1-declare-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-declare-命令"}},[s._v("#")]),s._v(" 3.1.1 declare 命令")]),s._v(" "),t("ul",[t("li",[s._v("用来声明变量类型")]),s._v(" "),t("li",[s._v("declare [+/-] [选项] 变量名")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("选项")]),s._v(" "),t("th",[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("-")]),s._v(" "),t("td",[s._v("给变量设定类型属性")])]),s._v(" "),t("tr",[t("td",[s._v("*")]),s._v(" "),t("td",[s._v("取消变量的类型属性")])]),s._v(" "),t("tr",[t("td",[s._v("-a")]),s._v(" "),t("td",[s._v("将变量声明为数组类型")])]),s._v(" "),t("tr",[t("td",[s._v("-i")]),s._v(" "),t("td",[s._v("将变量声明为整数型")])]),s._v(" "),t("tr",[t("td",[s._v("-x")]),s._v(" "),t("td",[s._v("将变量声明为环境变量")])]),s._v(" "),t("tr",[t("td",[s._v("-r")]),s._v(" "),t("td",[s._v("将变量声明为只读变量")])]),s._v(" "),t("tr",[t("td",[s._v("-p")]),s._v(" "),t("td",[s._v("显示指定变量的被声明的类型")])])])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("a"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nb"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$a"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("$b\necho $c\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\ndeclare "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i c"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$a"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("$b "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//声明成整型")]),s._v("\necho $c\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\ndeclare "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("i c "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//取消变量的类型属性")]),s._v("\nc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("$a"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("$b\necho $c\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\ndeclare "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("i c"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//给变量设定类型属性")]),s._v("\ndeclare "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p c "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//显示指定变量的被声明的类型")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('//declare -i c="3"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//声明环境变量")]),s._v("\ndeclare "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("x kk"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nset "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" grep kk "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//查看所有变量")]),s._v("\nenv "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" grep kk "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//只查看系统变量")]),s._v("\n\ndeclare "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r x "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//只读")]),s._v("\nx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//bash: x: readonly variable")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])]),t("h3",{attrs:{id:"_3-1-2-数组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-数组"}},[s._v("#")]),s._v(" 3.1.2 数组")]),s._v(" "),t("p",[s._v("//声明为数组类型\ndeclare -a names;")]),s._v(" "),t("p",[s._v("names[0]=zhangsan\nnames[1]=lisi")]),s._v(" "),t("p",[s._v("//默认只打印第一个元素\necho ${names}\nzhangsan\n//打印第 2 个元素\necho ${names[1]}\nlisi\n//打印全部\necho ${names[*]}\nzhangsan lisi")]),s._v(" "),t("h3",{attrs:{id:"_3-1-3-声明环境变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-3-声明环境变量"}},[s._v("#")]),s._v(" 3.1.3 声明环境变量")]),s._v(" "),t("p",[s._v("export 最终执行的是 declare -x 命令\ndeclare -p 可以查看所有的类型\nexport NAME=zhufeng\ndeclare -x NAME=zhufeng")]),s._v(" "),t("h3",{attrs:{id:"_3-1-4-只读属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-4-只读属性"}},[s._v("#")]),s._v(" 3.1.4 只读属性")]),s._v(" "),t("p",[s._v("declare -r gender=m\ngender=f\n-bash: gender: readonly variable")]),s._v(" "),t("h3",{attrs:{id:"_3-1-5-查询变量属性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-5-查询变量属性"}},[s._v("#")]),s._v(" 3.1.5 查询变量属性")]),s._v(" "),t("p",[s._v("declare -p 查询所有变量的属性\ndeclare -p 变量名 查询指定变量的属性")]),s._v(" "),t("h3",{attrs:{id:"_3-2-数值运算的方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-数值运算的方法"}},[s._v("#")]),s._v(" 3.2 数值运算的方法")]),s._v(" "),t("p",[s._v("只要用 declare 声明变量的时候指定类型就可以进行数值运算")]),s._v(" "),t("h3",{attrs:{id:"_3-2-1-expr-或-let"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-expr-或-let"}},[s._v("#")]),s._v(" 3.2.1 expr 或 let")]),s._v(" "),t("p",[s._v("号左右两侧必须有空格,否则还是整块输出\nnum1=2\nnum2=3\nsum=$(expr $num1 + $num2)\necho $sum\n5\nsum2=$(($num1+$num2))\necho $sum2\n5\nsum3=$[$num1+$num2]\necho $sum3\n5")]),s._v(" "),t("p",[s._v("d=$(date)\necho $d")]),s._v(" "),t("h3",{attrs:{id:"_3-2-2-优先级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-优先级"}},[s._v("#")]),s._v(" 3.2.2 优先级")]),s._v(" "),t("p",[s._v("priority")]),s._v(" "),t("p",[s._v("result=$(((1+2)*4/2))\necho $result\n6")]),s._v(" "),t("h2",{attrs:{id:"_4-环境变量配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-环境变量配置文件"}},[s._v("#")]),s._v(" 4. 环境变量配置文件")]),s._v(" "),t("h3",{attrs:{id:"_4-1-source-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-source-命令"}},[s._v("#")]),s._v(" 4.1 source 命令")]),s._v(" "),t("p",[s._v("修改完配置文件后，必须注销重新登录才能生效，使用 source 命令可以不用重新登录\nsource 配置文件\n. 配置文件")]),s._v(" "),t("h3",{attrs:{id:"_4-2-环境变量配置文件简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-环境变量配置文件简介"}},[s._v("#")]),s._v(" 4.2 环境变量配置文件简介")]),s._v(" "),t("p",[s._v("PATH、HISTSIZE、PS1、HOSTNAME 等环境变量写入对应的环境变量配置文件\n环境变量配置文件中主要是定义地系统操作环境生效的系统默认环境变量，如 PATH 等此文件登录时起作用的环境变量\n路径 说明\n/etc/profile\n/etc/bashrc\n~/.bash_profile 只会对当前用户生效\n~/.bashrc 只会对当前用户生效\nf49353175c1062b807c03b03bd9b5817")]),s._v(" "),t("h3",{attrs:{id:"_4-3-环境变量配置文件的功能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-环境变量配置文件的功能"}},[s._v("#")]),s._v(" 4.3 环境变量配置文件的功能")]),s._v(" "),t("h3",{attrs:{id:"_4-3-1-etc-profile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-etc-profile"}},[s._v("#")]),s._v(" 4.3.1 /etc/profile")]),s._v(" "),t("p",[s._v("在这里修改系统变量\ncat /etc/profile | grep USER\n变量名 含义\nUSER 用户名\nLOGNAME 登录名\nMAIL 邮箱地址\nPATH 查找路径\nHOSTNAME 主机名\numask 权限掩码\n/etc/profile.d/星.sh")]),s._v(" "),t("h3",{attrs:{id:"_4-3-2-bash-profile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-bash-profile"}},[s._v("#")]),s._v(" 4.3.2 ~/.bash_profile")]),s._v(" "),t("p",[s._v("在这里修改 PATH 路径\n调用 ~/.bashrc")]),s._v(" "),t("h3",{attrs:{id:"_4-3-3-bashrc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-3-bashrc"}},[s._v("#")]),s._v(" 4.3.3 ~/.bashrc")]),s._v(" "),t("p",[s._v("在这里改别名,配置 alias\n调用 /etc/bashrc")]),s._v(" "),t("h3",{attrs:{id:"_4-3-4-etc-bashrc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-4-etc-bashrc"}},[s._v("#")]),s._v(" 4.3.4 /etc/bashrc")]),s._v(" "),t("p",[s._v("PS1 登录提示符在这里修改\numask\nPATH 变量\n调用 /etc/profile.d/星.sh 文件")]),s._v(" "),t("h3",{attrs:{id:"_4-3-5-其它配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-5-其它配置文件"}},[s._v("#")]),s._v(" 4.3.5. 其它配置文件")]),s._v(" "),t("h3",{attrs:{id:"_4-3-5-1-注销时生效的环境变量配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-5-1-注销时生效的环境变量配置文件"}},[s._v("#")]),s._v(" 4.3.5.1 注销时生效的环境变量配置文件")]),s._v(" "),t("p",[s._v("~/.bash_logout")]),s._v(" "),t("h3",{attrs:{id:"_4-3-5-2-脚本历史"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-5-2-脚本历史"}},[s._v("#")]),s._v(" 4.3.5.2 脚本历史")]),s._v(" "),t("p",[s._v("当正确退出计算机的时候会历史记录会写入文件\n~/.bash_history")]),s._v(" "),t("h3",{attrs:{id:"_4-3-5-3-shell-登录信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-5-3-shell-登录信息"}},[s._v("#")]),s._v(" 4.3.5.3 Shell 登录信息")]),s._v(" "),t("p",[s._v("本地终端欢迎信息 /etc/issue\n远程终端欢迎信息 /etc/issue.net\n不管远程还是本地都可以生效 /etc/motd\n参数 含义\n\\d 当前系统日期\n\\s 显示操作系统名称\n\\l 显示登录的终端号\n\\m 显示硬件体系结构，如 i386 等\n\\n 显示主机名\n\\o 显示域名\n\\r 显示内核版本\n\\t 显示当前系统时间\n\\u 显示当前登录用户的序列号\nvi /etc/ssh/sshd_config\nBanner /etc/issue.net\nservice sshd restart 4.正则表达式\nregexper")]),s._v(" "),t("h3",{attrs:{id:"_4-1-概念"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-概念"}},[s._v("#")]),s._v(" 4.1 概念")]),s._v(" "),t("p",[s._v("正则表达式是用于描述字符排列和匹配模式的一种语法规则\n它主要用于字符串的模式分割、匹配查找及替换操作")]),s._v(" "),t("h3",{attrs:{id:"_4-2-通配符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-通配符"}},[s._v("#")]),s._v(" 4.2 通配符")]),s._v(" "),t("p",[s._v("通配符用来匹配符合条件的文件名，通配符是完全匹配。\nls find 这些命令不支持正则，只能使用通配符\n符号 含义\n? 匹配任意一个字符")]),s._v(" "),t("ul",[t("li",[s._v("匹配任意多个字符\n[] 匹配中括号中范围内的一个字符\n"),t("h3",{attrs:{id:"_4-3-正则表达式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-正则表达式"}},[s._v("#")]),s._v(" 4.3 正则表达式")]),s._v("\n正则表达式是用来在文件中匹配符合条件的字符串，是包含匹配。\ngrep awk sed 等都可以支持正则表达式\n"),t("h3",{attrs:{id:"_4-4-元字符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-元字符"}},[s._v("#")]),s._v(" 4.4 元字符")]),s._v("\nalias grep='grep --color=auto'")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("元字符")]),s._v(" "),t("th",[s._v("作用")]),s._v(" "),t("th",[s._v("示例")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("*")]),s._v(" "),t("td",[s._v("前一个字符匹配 0 次或任意多次")]),s._v(" "),t("td",[s._v("grep 1* reg.txt")])]),s._v(" "),t("tr",[t("td",[s._v(".")]),s._v(" "),t("td",[s._v("匹配除换行符外的任意一个字符")]),s._v(" "),t("td",[s._v("grep . reg.txt")])]),s._v(" "),t("tr",[t("td",[s._v("^")]),s._v(" "),t("td",[s._v("匹配行首。例如，^hello 会匹配以 hello 开头的行")]),s._v(" "),t("td",[s._v("grep ^a reg.txt")])]),s._v(" "),t("tr",[t("td",[s._v("$")]),s._v(" "),t("td",[s._v("匹配行尾。例如，hello& 会匹配以 hello 结尾的行")]),s._v(" "),t("td",[s._v("grep a$ reg.txt")])]),s._v(" "),t("tr",[t("td",[s._v("[]")]),s._v(" "),t("td",[s._v("匹配屮柄号屮指定的任意一个字符，而且只匹配一个字符。例如.[aoeiu]匹配任意一个元音字母， [0-9] 匹配任意一位数字，[a-z][0-9] 匹配由小写字母和一位数字构成的两位字符")]),s._v(" "),t("td",[s._v("grep ab[bc]c reg.txt")])]),s._v(" "),t("tr",[t("td",[s._v("[^]")]),s._v(" "),t("td",[s._v("匹配除中括号中的字符以外的任意一个字符。例如，[^0-9] 匹配任意一位非数字字符，[^a-z] 匹配任意一位非小写字母")]),s._v(" "),t("td",[s._v("grep a[^fg]c reg.txt")])]),s._v(" "),t("tr",[t("td",[s._v("\\")]),s._v(" "),t("td",[s._v("转义符，用于取消特殊符号的含义")]),s._v(" "),t("td",[s._v("grep .$ reg.txt")])]),s._v(" "),t("tr",[t("td",[s._v("{n}")]),s._v(" "),t("td",[s._v("表示其前面的字符恰好出现 n 次。例如，[0-9]{4} 匹配 4 位数字，[1][3-8][0-9]{9} 匹配手机号码")]),s._v(" "),t("td",[s._v('grep "a{1}" reg.txt')])]),s._v(" "),t("tr",[t("td",[s._v("(n,}")]),s._v(" "),t("td",[s._v("表示其前面的字符出现不少于 n 次。例如，[0-9]{2,} 匹配两位及以上的数字")]),s._v(" "),t("td",[s._v('grep "a{1,}" reg.txt')])]),s._v(" "),t("tr",[t("td",[s._v("{n,m}")]),s._v(" "),t("td",[s._v("表示其前面的字符至少出现 n 次，最多出现 m 次。例如，[a-z]{6,8} 匹配 6〜8 位的小写字母")]),s._v(" "),t("td",[s._v('grep "a{2,3}" reg.txt')])])])]),s._v(" "),t("h3",{attrs:{id:"_4-5-cut"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-cut"}},[s._v("#")]),s._v(" 4.5 cut")]),s._v(" "),t("ul",[t("li",[s._v("cut 用来提取文本中的某一部分文本")]),s._v(" "),t("li",[s._v("cut [选项] 文件名\n"),t("ul",[t("li",[s._v("-f 列号，用来指定要提取的列")]),s._v(" "),t("li",[s._v("-d 分隔符，按照指定分隔符分割列,默认分隔符是 TAB 制表符")])])])]),s._v(" "),t("p",[s._v("提取用户名和它使用的 shell")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/passwd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cut")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,7")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-6-printf"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-printf"}},[s._v("#")]),s._v(" 4.6 printf")]),s._v(" "),t("p",[t("strong",[s._v("按规定格式输出 "),t("code",[s._v("printf 输出类型 输出内容")])])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("%ns")]),s._v(" "),t("td",[s._v("输出字符串,n 是数字指代输出几个字符")])]),s._v(" "),t("tr",[t("td",[s._v("%ni")]),s._v(" "),t("td",[s._v("输出整数,n 是指输出几个数字")])]),s._v(" "),t("tr",[t("td",[s._v("%m.nf")]),s._v(" "),t("td",[s._v("输出浮点数,m 和 n 是数字，指代输出的整数位数和小数位数，如%6.2f 代表输出 6 位位，2 位小数，4 位整数")])])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("printf")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"%s'),t("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("%s"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("%s"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("%s"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("%s"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\t"}},[s._v("\\t")]),s._v("\\%s"),t("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -h "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" /dev/vda1"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cut")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1,5")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-6-1-df-h-显示当前的硬盘使用情况"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-1-df-h-显示当前的硬盘使用情况"}},[s._v("#")]),s._v(" 4.6.1 df -h 显示当前的硬盘使用情况")]),s._v(" "),t("h2",{attrs:{id:"_4-7-awk"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-awk"}},[s._v("#")]),s._v(" 4.7 awk")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("awk '条件 1{动作 1} 条件 2{动作 2}...' 文件名")])]),s._v(" "),t("li",[t("p",[s._v("条件(Pattern)")]),s._v(" "),t("ul",[t("li",[s._v("一般使用关系表达式作为条件")]),s._v(" "),t("li",[s._v("x > 10 判断变量 x 是否大于 10")]),s._v(" "),t("li",[s._v("x >=10 大于等于")]),s._v(" "),t("li",[s._v("x <=10 小于等于")])])]),s._v(" "),t("li",[t("p",[s._v("动作(Action)")]),s._v(" "),t("ul",[t("li",[s._v("格式化输出")])])]),s._v(" "),t("li",[t("p",[s._v("$0 整行 $1 第一列...")])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("df")]),s._v(" -h "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" /dev/vda1 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print $5}'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cut")]),s._v(" -d "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'%'")]),s._v(" -f "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-7-1-begin-end"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-1-begin-end"}},[s._v("#")]),s._v(" 4.7.1 begin end")]),s._v(" "),t("ul",[t("li",[s._v("awk 可以正确截取制表符和空格")]),s._v(" "),t("li",[s._v("begin 在所有的输出之前打印")]),s._v(" "),t("li",[s._v("end 在所有的输出之后打印")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" numbers.txt\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{print "开始"}END{print "结束"}\'')]),s._v(" numbers.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_4-7-2-fs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-2-fs"}},[s._v("#")]),s._v(" 4.7.2 FS")]),s._v(" "),t("p",[s._v("Field Separator，字段分隔符")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{FS=":"}{print $1"\\t"$2}\'')]),s._v(" /etc/passwd\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-7-3-声明变量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-3-声明变量"}},[s._v("#")]),s._v(" 4.7.3 声明变量")]),s._v(" "),t("p",[s._v("numbers.txt")]),s._v(" "),t("div",{staticClass:"language-txt line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-txt"}},[t("code",[s._v("1\n2\n3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'BEGIN{sum=0}{sum=sum+$1}END{print sum}'")]),s._v(" numbers.txt\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_4-7-4-多条件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-4-多条件"}},[s._v("#")]),s._v(" 4.7.4 多条件")]),s._v(" "),t("p",[s._v("score.txt")]),s._v(" "),t("div",{staticClass:"language-txt line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-txt"}},[t("code",[s._v("zhangsan 91\nli 81\nwangwu 71\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'$2>90{print $1"\\t 优秀"}$2>80{print $2"\\t 良好"}\'')]),s._v(" score.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-7-5-nr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-5-nr"}},[s._v("#")]),s._v(" 4.7.5 NR")]),s._v(" "),t("p",[s._v("NR,表示 awk 开始执行程序后所读取的数据行数")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'{print NR,$0}'")]),s._v(" score.txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-7-6-ofs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-6-ofs"}},[s._v("#")]),s._v(" 4.7.6 OFS")]),s._v(" "),t("p",[s._v("OFS Out of Field Separator，输出字段分隔符")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"i love you"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("awk")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'BEGIN{ FS=" ";OFS="-" }{print $1,$2,$3}\'')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"_4-8-sed-命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-sed-命令"}},[s._v("#")]),s._v(" 4.8 sed 命令")]),s._v(" "),t("p",[s._v("sed 是一个轻量级编辑器，主要用来对数据进行选取、替换、替换和新增操作\nsed [选项] '[动作]' 文件名\n所有的动作都必须用单号号括起来\n类型类似于批量 vi 操作")]),s._v(" "),t("h3",{attrs:{id:"_4-8-1-动作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-1-动作"}},[s._v("#")]),s._v(" 4.8.1 动作")]),s._v(" "),t("p",[s._v("参数 含义 示例\na 追加，在每一行或者指定行下面添加一行或多行 sed '1a newline' score.txt\nc 行替换，用 c 后面的字符串替换掉原始整个数据行 sed 'c newline' score.txt\ns 字符串替换,用一个字符串替换另外一个字符串，格式为 \"行范围 s/旧字符串/新字符串/g\" sed '3s/lisi/lisisi/g' score.txt\ni 插入，在当前行插入一行或多行 sed '1i newline' score.txt\nd 删除指定的行 sed '1,2d' score.txt\np 打印,输出指定的行 sed -n '2p' score.txt")]),s._v(" "),t("h3",{attrs:{id:"_4-8-2-选项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-2-选项"}},[s._v("#")]),s._v(" 4.8.2 选项")]),s._v(" "),t("p",[s._v("参数 含义 示例\n-n 一般 sed 命令会把所有的数据都输出到屏幕上，如果加入此选项则只会把处理过的行输出到屏幕上 sed -n '2p' score.txt\n-e 允许对输入数据应用多条 sed 编辑命令 sed -e 's/91/92/g;s/81/82/g' score.txt\n-i 用 sed 的修改直接修改编辑的文件，而不是在屏幕上输出 sed -i '1i newline' score.txt")]),s._v(" "),t("h3",{attrs:{id:"_4-9-排序命令-sort"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-9-排序命令-sort"}},[s._v("#")]),s._v(" 4.9 排序命令 sort")]),s._v(" "),t("p",[s._v('sort [选项] 文件名\n选项\n选项 含义\n-f 忽略大小写 sort -f -t ":" -n -k 5,5 /etc/passwd\n-n 以数值型进行排序，默认使用字符串顺序 sort -t ":" -n -k 3,3 /etc/passwd\n-r 反向排序，默认从小到大 sort -r /etc/passwd\n-t 指定分割符，默认分割符是制表符 sort -t ":" -k 3,3 /etc/passwd\n-k n[,m] 按照指定的字段范围排序。从第 n 个字段开始，到第 m 个字段结束，默认是到行尾 sort -t ":" -k 3,3 /etc/passwd\nsort /etc/passwd\nsort -r /etc/passwd\nsort -t ":" -k 3,3 /etc/passwd')]),s._v(" "),t("h3",{attrs:{id:"_4-10-wc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-10-wc"}},[s._v("#")]),s._v(" 4.10 wc")]),s._v(" "),t("p",[s._v("wc [选项] 文件名\n选项 含义\n-l 只统计行数\n-w 只允许单词数\n-m 只统计字符数\nwc wc.txt")]),s._v(" "),t("h2",{attrs:{id:"_5-流程控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-流程控制"}},[s._v("#")]),s._v(" 5. 流程控制")]),s._v(" "),t("h2",{attrs:{id:"_5-1-条件判断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-条件判断"}},[s._v("#")]),s._v(" 5.1 条件判断")]),s._v(" "),t("h3",{attrs:{id:"_5-1-1-按照文件类型进行判断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-1-按照文件类型进行判断"}},[s._v("#")]),s._v(" 5.1.1 按照文件类型进行判断")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("选项")]),s._v(" "),t("th",[s._v("含义")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("-d")]),s._v(" "),t("td",[s._v("文件是否存在并且是目录")])]),s._v(" "),t("tr",[t("td",[s._v("-e")]),s._v(" "),t("td",[s._v("文件是否存在")])]),s._v(" "),t("tr",[t("td",[s._v("-f")]),s._v(" "),t("td",[s._v("文件是否存在并且是普通文件")])]),s._v(" "),t("tr",[t("td",[s._v("-b")]),s._v(" "),t("td",[s._v("文件是否存在并且是块设备文件")])]),s._v(" "),t("tr",[t("td",[s._v("-c")]),s._v(" "),t("td",[s._v("文件是否存在并且是字符设备文件")])]),s._v(" "),t("tr",[t("td",[s._v("-L")]),s._v(" "),t("td",[s._v("文件是否存在并且是链接文件")])]),s._v(" "),t("tr",[t("td",[s._v("-p")]),s._v(" "),t("td",[s._v("文件是否存在并且是管道文件")])]),s._v(" "),t("tr",[t("td",[s._v("-s")]),s._v(" "),t("td",[s._v("文件是否存在并且是否为非空")])]),s._v(" "),t("tr",[t("td",[s._v("-S")]),s._v(" "),t("td",[s._v("文件是否存在并且是套接字文件")])])])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".txt\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".txt\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-e "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".txt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("exist.sh")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".txt "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yes"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"no"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("yes")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(".txt "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yes"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("||")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"no"')]),s._v("\nno\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"_5-1-2-按照文件权限进行判断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-2-按照文件权限进行判断"}},[s._v("#")]),s._v(" 5.1.2 按照文件权限进行判断")]),s._v(" "),t("p",[s._v("选项 含义\n-r 文件是否存在，并且是否拥有读权限\n-w 文件是否存在，并且是否拥有写权限\n-x 文件是否存在，并且是否拥有执行权限\necho read > read.txt\necho write > write.txt\necho execute > execute.txt")]),s._v(" "),t("p",[s._v("chmod u+w write.txt\nchmod u+x execute.txt")]),s._v(" "),t("p",[s._v('[ -r read.txt ]&&echo "read yes"|| echo "no"\n[ -w write.txt ]&&echo "write yes"|| echo "no"\n[ -x execute.txt ]&&echo "execute yes"|| echo "no"')]),s._v(" "),t("h3",{attrs:{id:"_5-1-3-两个文件间的比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-3-两个文件间的比较"}},[s._v("#")]),s._v(" 5.1.3 两个文件间的比较")]),s._v(" "),t("p",[s._v('选项 含义\n文件 1 -nt 文件 2 判断文件 1 的修改时间是否比文件 2 的新\n文件 1 -ot 文件 2 判断文件 1 的修改时间是否比文件 2 的旧\n文件 1 -ef 文件 2 判断文件 1 和文件 2 的 inode 号是否一致,可用于判断硬链接\n[ write.txt -nt read.txt ]&&echo "write is older than read"|| echo "no"\n[ read.txt -ot write.txt ]&&echo "read is older than write"|| echo "no"\nln execute.txt execute2.txt\n[ execute.txt -ef execute2.txt ]&&echo "execute and execute2.txt are the same"|| echo "no"')]),s._v(" "),t("h3",{attrs:{id:"_5-1-4-两个整数间的比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-4-两个整数间的比较"}},[s._v("#")]),s._v(" 5.1.4 两个整数间的比较")]),s._v(" "),t("p",[s._v('选项 含义\n整数 1 -eq 整数 2 判断整数 1 是否和整数 2 相等\n整数 1 -ne 整数 2 判断整数 1 是否和整数 2 不相等\n整数 1 -gt 整数 2 判断整数 1 是否大于整数 2\n整数 1 -lt 整数 2 判断整数 1 是否小于整数 2\n整数 1 -ge 整数 2 判断整数 1 是否大于等于整数 2\n整数 1 -le 整数 2 判断整数 1 是否小于等于整数 2\n[ 2 -eq 2 ]&&echo "2==2"|| echo "no"\n[ 3 -ne 2 ]&&echo "2!=2"|| echo "no"\n[ 3 -gt 2 ]&&echo "2>2"|| echo "no"\n[ 1 -lt 2 ]&&echo "2<2"|| echo "no"\n[ 2 -ge 2 ]&&echo "2>=2"|| echo "no"\n[ 2 -le 2 ]&&echo "2<=2"|| echo "no"')]),s._v(" "),t("h3",{attrs:{id:"_5-1-5-字符串的判断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-5-字符串的判断"}},[s._v("#")]),s._v(" 5.1.5 字符串的判断")]),s._v(" "),t("p",[s._v('选项 含义\n-z 字符串 判断字否串是否为空\n-n 字符中 判断字符串是否为非空\n字符串 1 == 字符串 2 判断字符串 1 是否和字符串 2 相等\n字符串 1 != 字符串 2 判断字符串 1 是否和字符串 2 不相等\nname=zhufeng\n[ -z "$name" ]&&echo "空"|| echo "非空"\n[ -n "$name" ]&&echo "非空"|| echo "空"\nname2=zhufeng\n[ "$name" == "$name2" ]&&echo "相等"|| echo "不相等"\n[ "$name" != "$name2" ]&&echo "不相等"|| echo "相等"')]),s._v(" "),t("h3",{attrs:{id:"_5-1-6-多重条件判断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-6-多重条件判断"}},[s._v("#")]),s._v(" 5.1.6 多重条件判断")]),s._v(" "),t("p",[s._v('选项 含义\n判断 1 -a 判断 2 逻辑与\n判断 1 -o 判断 2 逻辑或\n!判断 逻辑非\n[ 2 -gt 1 -a 3 -gt 2 ]&&echo "yes"|| echo "no"\n[ 2 -gt 1 -a 3 -gt 4 ]&&echo "yes"|| echo "no"\n[ 2 -gt 1 -o 3 -gt 4 ]&&echo "yes"|| echo "no"\n[ ! 3 -gt 4 ]&&echo "yes"|| echo "no"')]),s._v(" "),t("h2",{attrs:{id:"_5-2-单分支-if-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-单分支-if-语句"}},[s._v("#")]),s._v(" 5.2 单分支 if 语句")]),s._v(" "),t("ul",[t("li",[s._v("if 语句使用 fi 结尾")]),s._v(" "),t("li",[s._v("[条件判断式]就是使用 test 命令进行判断，所以中括号和条件判断式之间必须有空格")]),s._v(" "),t("li",[s._v("then 后面跟符合条件之后执行的程序，可以放在[]之后，用;分隔，也可以换行，不用;")])]),s._v(" "),t("h3",{attrs:{id:"_5-2-1-语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-1-语法"}},[s._v("#")]),s._v(" 5.2.1 语法")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("条件判断"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n代码体\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("条件判断"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n代码体\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -gt "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" bigger"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -gt "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" bigger\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"_5-2-2-判断当前用户是否是-root-用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-2-判断当前用户是否是-root-用户"}},[s._v("#")]),s._v(" 5.2.2 判断当前用户是否是 root 用户")]),s._v(" "),t("p",[s._v("isRoot.sh")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("whoami")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("whoami")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$user")]),s._v('"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" root "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"我是 root 用户"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"_5-3-双分支-if-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-双分支-if-语句"}},[s._v("#")]),s._v(" 5.3 双分支 if 语句")]),s._v(" "),t("h3",{attrs:{id:"_5-3-1-语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-1-语法"}},[s._v("#")]),s._v(" 5.3.1 语法")]),s._v(" "),t("p",[s._v("if [条件判断]\nthen\n代码体 1\nelse\n代码体 2\nfi")]),s._v(" "),t("h3",{attrs:{id:"_5-3-2-判断是否目录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-2-判断是否目录"}},[s._v("#")]),s._v(" 5.3.2 判断是否目录")]),s._v(" "),t("p",[s._v("isDir.sh")]),s._v(" "),t("p",[s._v('#!/bin/bash\nread -t 10 -p "请输入一个路径" dir\nif [ -d "$dir" ]\nthen\necho "$dir是目录"\nelse\necho "$dir 不是目录"\nfi')]),s._v(" "),t("h2",{attrs:{id:"_5-4-多分支-if-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-多分支-if-语句"}},[s._v("#")]),s._v(" 5.4 多分支 if 语句")]),s._v(" "),t("h3",{attrs:{id:"_5-4-1-语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-1-语法"}},[s._v("#")]),s._v(" 5.4.1 语法")]),s._v(" "),t("p",[s._v("if [条件判断 1]\nthen\n代码体 1\nelif [条件判断 2]\n代码体 2\nelse\n代码体 3\nfi\ngrade.sh")]),s._v(" "),t("p",[s._v('#!/bin/bash\nread -p "请输入一个分数" grade\nif [ "$grade" -gt 90 ]\nthen\necho 优秀\nelif [ "$grade" -gt 80 ]\nthen\necho 良\nelse\necho 差\nfi')]),s._v(" "),t("h2",{attrs:{id:"_5-5-case-语句"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-case-语句"}},[s._v("#")]),s._v(" 5.5 case 语句")]),s._v(" "),t("p",[t("strong",[s._v("case 和 if 都是多分支判断语句,if 能判断多个条件,case 只能判断一个条件")])]),s._v(" "),t("h3",{attrs:{id:"_5-5-1-语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-1-语法"}},[s._v("#")]),s._v(" 5.5.1 语法")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" 变量名 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n值 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n代码块 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n值 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n代码块 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n代码块 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("p",[s._v("case.sh")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" -p "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yes or no?"')]),s._v(" -t "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" choose\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$choose")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yes"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'是'")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"no"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"否"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("*"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" 其它\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("esac")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h2",{attrs:{id:"_5-6-for-循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-for-循环"}},[s._v("#")]),s._v(" 5.6 for 循环")]),s._v(" "),t("h3",{attrs:{id:"_5-6-1-语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-1-语法"}},[s._v("#")]),s._v(" 5.6.1 语法")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" 变量 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 值 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" 值 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" 值 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n代码块\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("for.sh")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("i")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"_5-6-2-语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-2-语法"}},[s._v("#")]),s._v(" 5.6.2 语法")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("$i"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"_5-7-while-循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-while-循环"}},[s._v("#")]),s._v(" 5.7 while 循环")]),s._v(" "),t("p",[s._v("while 循环是不定循环，也称为条件循环，只要条件判断成立，就会一直继续\nwhile [条件判断式]\ndo\n代码块\ndone\nwhile.sh")]),s._v(" "),t("p",[s._v("#!/bin/bash\ni=1\nresult=0\nwhile [ $i -le 100 ]\ndo\nresult=$(($result+i))\ni=$(($i+1))\ndone\necho $result")]),s._v(" "),t("h2",{attrs:{id:"_5-8-until-循环"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-8-until-循环"}},[s._v("#")]),s._v(" 5.8 until 循环")]),s._v(" "),t("p",[s._v("直到条件不成立停止\nuntil.sh")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("i")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("result")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("until")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$i")]),s._v(" -gt "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("result")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("$result"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("i")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("$i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$result")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h2",{attrs:{id:"_6-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-函数"}},[s._v("#")]),s._v(" 6. 函数")]),s._v(" "),t("ul",[t("li",[s._v("linux shell 可以用户定义函数，然后在 shell 脚本中可以随便调用")]),s._v(" "),t("li",[s._v("可以带 "),t("code",[s._v("function fun()")]),s._v(" 定义，也可以直接 "),t("code",[s._v("fun()")]),s._v(" 定义,不带任何参数")]),s._v(" "),t("li",[s._v("调用函数不需要加"),t("code",[s._v("()")])])]),s._v(" "),t("h3",{attrs:{id:"_6-1-简单函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-简单函数"}},[s._v("#")]),s._v(" 6.1 简单函数")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" funcName "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\naction"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("return int"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("start")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" start\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  start\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("start")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" start\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nstart\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h2",{attrs:{id:"_6-2-返回值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-返回值"}},[s._v("#")]),s._v(" 6.2 返回值")]),s._v(" "),t("p",[s._v("参数返回，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("sum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("result")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$((")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("$"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("))")])]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$result")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nsum4 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$?")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("h2",{attrs:{id:"_6-3-参数说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-参数说明"}},[s._v("#")]),s._v(" 6.3 参数说明")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数处理")]),s._v(" "),t("th",[s._v("说明")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("$# 传递到脚本的参数个数")]),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td",[s._v("$* 以一个单字符串显示所有向脚本传递的参数")]),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td",[s._v("$@ 与$*相同，但是使用时加引号，并在引号中返回每个参数")]),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td",[s._v("$$ 脚本运行的当前进程 ID 号")]),s._v(" "),t("td")]),s._v(" "),t("tr",[t("td",[s._v("$? 显示最后命令的退出状态。0 表示没有错误，其他任何值表明有错误")]),s._v(" "),t("td")])])]),s._v(" "),t("h2",{attrs:{id:"_7-shell-实战"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-shell-实战"}},[s._v("#")]),s._v(" 7.shell 实战")]),s._v(" "),t("h3",{attrs:{id:"_7-1-注意事项"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-注意事项"}},[s._v("#")]),s._v(" 7.1 注意事项")]),s._v(" "),t("ul",[t("li",[s._v("开头加解释器: #/bin/bash 和注释说明")]),s._v(" "),t("li",[s._v("命名建议规则: 变量名大写、局部变量小写，函数名小写，名字体现出实际作用")]),s._v(" "),t("li",[s._v("默认变量是全局的，在函数中变量 "),t("code",[s._v("local")]),s._v(" 指定为局部变量，避免污染其它作用域")]),s._v(" "),t("li",[t("code",[s._v("set -e")]),s._v(" 遇到执行非 "),t("em",[s._v("0")]),s._v(" 时退出脚本, "),t("code",[s._v("set -x")]),s._v(" 打印执行过程")]),s._v(" "),t("li",[s._v("写脚本一定要先测试再上生产环境")])]),s._v(" "),t("h3",{attrs:{id:"_7-2-检查主机存活状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-检查主机存活状态"}},[s._v("#")]),s._v(" 7.2 检查主机存活状态")]),s._v(" "),t("p",[s._v("ip.sh")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[s._v("IP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v(" -c "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$IP")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&>")]),s._v("/dev/null"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n     "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$IP")]),s._v(' is ok."')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$IP")]),s._v(' is wrong!"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" ip.sh "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);